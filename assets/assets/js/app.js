(function(t){function e(e){for(var i,o,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)o=r[d],n[o]&&h.push(n[o][0]),n[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],i=!0,r=1;r<s.length;r++){var c=s[r];0!==n[c]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=s[0]))}return t}var i={},n={app:0},a=[];function o(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=i,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(s,i,function(e){return t[e]}.bind(null,i));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/assets/assets/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("cd49")},"0d25":function(t,e,s){"use strict";var i=s("992f"),n=s.n(i);n.a},"0fe1":function(t,e,s){},"131f":function(t,e,s){},"15bb":function(t,e,s){"use strict";var i=s("0fe1"),n=s.n(i);n.a},"1a5d":function(t,e,s){},"1e69":function(t,e,s){"use strict";var i=s("51e6"),n=s.n(i);n.a},"1e8b":function(t,e){},"1ee0":function(t,e,s){"use strict";var i=s("3391"),n=s.n(i);n.a},2368:function(t,e,s){"use strict";var i=s("b393"),n=s.n(i);n.a},2451:function(t,e,s){"use strict";var i=s("8658"),n=s.n(i);n.a},"299e":function(t,e,s){},"2c6f":function(t,e,s){"use strict";var i=s("8d62"),n=s.n(i);n.a},3391:function(t,e,s){},3454:function(t,e,s){},3686:function(t,e,s){"use strict";var i=s("f769"),n=s.n(i);n.a},"3b01":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__["a"]=eval("defaultConfig")},"42c7":function(t,e,s){},"45a3":function(t,e,s){"use strict";var i=s("7122"),n=s.n(i);n.a},"4b54":function(t,e,s){"use strict";var i=s("731f"),n=s.n(i);n.a},"51e6":function(t,e,s){},"52be":function(t,e,s){"use strict";var i=s("fe6a"),n=s.n(i);n.a},"5b5d":function(t,e,s){},6162:function(t,e,s){},"63ba":function(t,e,s){"use strict";var i=s("299e"),n=s.n(i);n.a},"681c":function(t,e,s){"use strict";var i=s("cd8d"),n=s.n(i);n.a},7122:function(t,e,s){},7194:function(t,e,s){"use strict";var i=s("6162"),n=s.n(i);n.a},"731f":function(t,e,s){},"73a9":function(t,e,s){},8658:function(t,e,s){},8753:function(t,e,s){},"8d62":function(t,e,s){},"8dee":function(t,e,s){"use strict";var i=s("d8fd"),n=s.n(i);n.a},"955a":function(t,e,s){},"97fb":function(t,e,s){"use strict";var i=s("131f"),n=s.n(i);n.a},"98c9":function(t,e,s){"use strict";var i=s("b3cc"),n=s.n(i);n.a},"992f":function(t,e,s){},a1e4:function(t,e,s){},a79f:function(t,e,s){"use strict";var i=s("8753"),n=s.n(i);n.a},ae9a:function(t,e,s){"use strict";var i=s("3454"),n=s.n(i);n.a},b393:function(t,e,s){},b3cc:function(t,e,s){},ba6b:function(t,e,s){"use strict";var i=s("73a9"),n=s.n(i);n.a},c1c3:function(t,e,s){},c4bb:function(t,e,s){"use strict";var i=s("955a"),n=s.n(i);n.a},cd49:function(t,e,s){"use strict";s.r(e);var i=s("2b0e"),n=s("2f62");const a={setSrc:"setScreenSrc",setWidth:"setScreenWidth",setHeight:"setScreenHeight",setPoints:"setScreenPoints",setSquares:"setScreenSquares",setInitState:"setScreenInitState",setActiveTool:"setScreenActiveTool",setHistoryPoints:"setScreenHistoryPoints",setHistorySquares:"setScreenHistorySquares"},o={setSrc:"setScreenSrc",addPoint:"addScreenPoint",addSquare:"addScreenSquare",clearPoints:"clearScreenPoints",clearSquares:"clearScreenSquares",clearHistoryPoints:"clearScreenHistoryPoints",clearHistorySquares:"clearScreenHistorySquares"};var r;(function(t){t[t["circle"]=0]="circle",t[t["square"]=1]="square",t[t["pencil"]=2]="pencil"})(r||(r={}));const c={src:"",width:0,height:0,points:[],squares:[],historyPoints:[],historySquares:[],activeTool:r.pencil};var l={state:c,mutations:{[a.setWidth]:(t,e)=>{t.width=e},[a.setInitState]:(t,e)=>{Object.assign(t,e)},[a.setHeight]:(t,e)=>{t.height=e},[a.setSrc]:(t,e)=>{t.src=e},[a.setPoints]:(t,e)=>{t.points=e},[a.setSquares]:(t,e)=>{t.squares=e},[a.setHistorySquares]:(t,e)=>{t.historySquares=e},[a.setHistoryPoints]:(t,e)=>{t.historyPoints=e},[a.setActiveTool]:(t,e)=>{t.activeTool=e}},getters:{getScreenSrc:t=>t.src,getScreenWidth:t=>t.width,getScreenHeight:t=>t.height,getScreenPoints:t=>t.points,getScreenSquares:t=>t.squares,getScreenActiveTool:t=>t.activeTool,getScreenHistoryPoints:t=>t.historyPoints,getScreenHistorySquares:t=>t.historySquares},actions:{[o.addPoint]:(t,e)=>{return new Promise(s=>{const i=t.state.points.concat([e]);t.commit(a.setPoints,i);const n=t.state.historyPoints.concat([e]);t.commit(a.setHistoryPoints,n),s()})},[o.setSrc]:(t,e)=>{return new Promise(s=>{t.commit(a.setSrc,e),Promise.all([t.dispatch(o.clearPoints),t.dispatch(o.clearSquares),t.dispatch(o.clearHistoryPoints),t.dispatch(o.clearHistorySquares)]).then(()=>{s()})})},[o.addSquare]:(t,e)=>{return new Promise(s=>{const i=t.state.squares.concat([e]);t.commit(a.setSquares,i);const n=t.state.historySquares.concat([e]);t.commit(a.setHistorySquares,n),s()})},[o.clearPoints]:t=>{return new Promise(e=>{t.commit(a.setPoints,[]),e()})},[o.clearSquares]:t=>{return new Promise(e=>{t.commit(a.setSquares,[]),e()})},[o.clearHistoryPoints]:t=>{return new Promise(e=>{t.commit(a.setHistoryPoints,[]),e()})},[o.clearHistorySquares]:t=>{return new Promise(e=>{t.commit(a.setHistorySquares,[]),e()})}}};const u={setInitState:"setClientInitState",setClient:"setClientClient",setTaskUrl:"setClientTaskUrl"},d={clearClient:"clearClient"},h={model:void 0,taskUrl:""};var m={state:h,mutations:{[u.setInitState]:(t,e)=>{Object.assign(t,e)},[u.setClient]:(t,e)=>{t.model=e},[u.setTaskUrl]:(t,e)=>{t.taskUrl=e.replace("https://doris.worksection.com","")}},getters:{getClient:t=>t.model,getTaskUrl:t=>t.taskUrl},actions:{[d.clearClient]:t=>{return new Promise(()=>{t.commit(u.setClient,void 0)})}}},g=s("3b01"),p=s("bc3a"),f=s.n(p),v=s("7317"),b=s.n(v);class w{static getCSRFToken(){const t=document.querySelector('meta[name="csrf-token"]'),e=document.querySelector('meta[name="csrf-param"]');return t&&e?{[e.content]:t.content}:null}post(t,e=null){const s=w.getCSRFToken();s&&Object.assign(e,s);const i=b()(e);return this.send(t,w.POST_METHOD,{data:i})}get(t,e=null){const s=w.getCSRFToken();return s&&Object.assign(e,s),this.send(t,w.GET_METHOD,{params:e})}put(t,e=null){const s=w.getCSRFToken();return s&&Object.assign(e,s),this.send(t,w.PUT_METHOD,{data:e})}delete(t,e=null){const s=w.getCSRFToken();return s&&Object.assign(e,s),this.send(t,w.DELETE_METHOD,{data:e})}send(t,e,s){return new Promise((i,n)=>{const a=`/${g["a"].controller}/${t}${g["a"].sufix}`,o=w.getCSRFToken(),r={headers:Object.assign({"Content-Type":"post"===e?"multipart/form-data;charset=UTF-8":"applocation/json;charset=UTF-8"},o),url:a,responseType:"json",method:e};s&&Object.assign(r,s),f()(r).then(t=>{const e=[w.OK,w.CREATED,w.DELETED];e.some(e=>t.status===e)?i(t.data):n(t.data)}).catch(t=>{const e=t.response,s=e.status;s&&s===w.UNAUTHORIZED&&n({code:s,message:"Авторизуйся і спробуйте ще раз."});let i=t.response.message;i||(i="Виникла помилка. Повторіть спробу пізніше."),n({code:s,message:i})})})}}w.OK=200,w.CREATED=201,w.DELETED=204,w.BAD_REQUEST=400,w.UNAUTHORIZED=401,w.FORBIDDEN=403,w.NOT_FOUND=404,w.VALIDATION_FAILED=422,w.INTERNAL_SERVER_ERROR=500,w.SERVICE_UNAVAILABLE=503,w.POST_METHOD="post",w.GET_METHOD="get",w.PUT_METHOD="put",w.DELETE_METHOD="delete";var _,S=new w;class C{getAll(t){return new Promise((e,s)=>{const i=t?t.getProps():{};S.get(this.action,i).then(t=>{e(this.createCollection(t))},s)})}create(t={}){return new Promise((e,s)=>{S.post(this.action,t).then(t=>{e(this.createModel(t))},s)})}update(t,e){return new Promise((s,i)=>{S.put(`${this.action}/${t}`,e).then(t=>{s(this.createModel(t))},i)})}deleteById(t){return new Promise((e,s)=>{S.delete(`${this.action}/${t}`).then(e,s)})}deleteByAttributes(t){return new Promise((e,s)=>{S.delete(this.action,t.getProps()).then(e,s)})}findById(t,e){return new Promise((s,i)=>{const n=e?e.getProps():{};S.get(`${this.action}/${t}`,n).then(t=>{try{s(this.createModel(t))}catch(e){i()}},i)})}findByAttributes(t){return new Promise((e,s)=>{S.get(this.action,t.getProps()).then(t=>{e(this.createCollection(t))},s)})}}class x{}class y extends x{constructor(t){super(),this.meta=t.meta,this.image=t.image,this.taskUrl=t.taskUrl,this.user=t.user,this.description=t.description,t.errors&&(this.errors=t.errors),t.id&&(this.id=t.id),t.photo&&(this.photo=t.photo)}}class E{constructor(){this.entities=[]}setEntity(t){t&&this.entities.push(this.createModel(t))}setEntities(t){"object"===typeof t&&(t=Object.values(t)),this.entities=t.map(t=>{return!!t&&this.createModel(t)}).filter(t=>!!t)}isEmpty(){return!this.entities.length}getEntities(){return this.entities}}class P extends E{createModel(t){return new y(t)}}class T extends C{constructor(){super(...arguments),this.action="issue"}createModel(t){return new y(t)}createCollection(t){const e=new P;return e.setEntities(t),e}}(function(t){t["DESC"]="desc",t["ASC"]="asc"})(_||(_={}));class O{constructor(t){t.perPage&&(this.perPage=t.perPage),t.page&&(this.page=t.page),t.expand&&(this.expand=t.expand),t.condition&&(this.condition=t.condition),t.mixins&&(this.mixins=t.mixins),t.order&&(this.order=t.order),t.groupBy&&(this.groupBy=t.groupBy)}getProps(){const t={};if(this.expand&&Object.defineProperty(t,"expand",{writable:!0,enumerable:!0,configurable:!0,value:this.expand.join(",")}),this.page&&Object.defineProperty(t,"page",{writable:!0,enumerable:!0,configurable:!0,value:this.page}),this.mixins&&Object.defineProperty(t,"mixins",{writable:!0,enumerable:!0,configurable:!0,value:this.mixins.join(",")}),this.groupBy&&Object.defineProperty(t,"groupBy",{writable:!0,enumerable:!0,configurable:!0,value:this.groupBy.join(",")}),this.perPage&&Object.defineProperty(t,"perPage",{writable:!0,enumerable:!0,configurable:!0,value:this.perPage}),this.order){let e="";if("random"===this.order)e=this.order;else{const t=this.order.type===_.ASC?"":"-";e=t+this.order.field}Object.defineProperty(t,"sort",{writable:!0,enumerable:!0,configurable:!0,value:e})}return this.condition&&Object.keys(this.condition).length&&Object.defineProperty(t,"filter",{writable:!0,enumerable:!0,configurable:!0,value:this.condition}),t}}const $={setIssues:"setIssues"},j={loadIssues:"loadIssues"},k={issues:[]};var L={state:k,mutations:{[$.setIssues]:(t,e)=>{t.issues=e}},getters:{getIssues:t=>t.issues},actions:{[j.loadIssues]:t=>{return new Promise(async(e,s)=>{try{const n=new T,a=t.getters.getTaskUrl,o=new O({condition:{issue:[a]}}),r=await n.getAll(o);t.commit($.setIssues,r.getEntities()),e()}catch(i){s(i.message)}})}}};const q={changeListState:"applicationChangeListState"};var I;(function(t){t[t["OPEN"]=0]="OPEN",t[t["HIDDEN"]=1]="HIDDEN"})(I||(I={}));const H={listState:I.HIDDEN};var A={state:H,mutations:{[q.changeListState]:(t,e)=>{t.listState=e}},getters:{getListStatus:t=>t.listState},actions:{}};const D=t=>{const e=localStorage.getItem("state");if(e){const s=JSON.parse(e),i=s.screen,n=s.client;t.commit(a.setInitState,i||{}),t.commit(u.setInitState,n||{})}t.subscribe((t,e)=>{localStorage.setItem("state",JSON.stringify(e))})};i["default"].use(n["a"]);const M=new n["a"].Store({modules:{screen:l,issues:L,client:m,application:A},plugins:[D]});var U=M,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app"},[s("modal",{staticClass:"bug-report-tool-modal",attrs:{name:"bug-report-tool",width:"100%",height:"100%"},on:{closed:t.cleanStore}},[s("bug-report-tool")],1),s("modal",{staticClass:"authorization-modal",attrs:{name:"authorization",width:"100%",height:"100%"}},[s("authorization")],1),s("notifications",{attrs:{group:"success-message",position:"top center",width:"400px"}}),s("notifications",{attrs:{group:"error-message",position:"top center",width:"400px"}}),s("comments-list"),s("application-navigation")],1)},W=[],N=s("9ab4"),F=s("2fe1"),B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"application-navigation",attrs:{"xmlns:v-on":"http://www.w3.org/1999/xhtml","xmlns:v-bind":"http://www.w3.org/1999/xhtml"}},[s("div",{staticClass:"application-navigation__buttons"},[t.client?s("i",{staticClass:"application-navigation__button fas fa-camera",on:{click:t.showCanvasModal}}):t._e(),s("i",{staticClass:"application-navigation__button fa-user",class:[t.client?"fas":"far"],on:{click:t.showAuthorizationModal}}),s("i",{staticClass:"application-navigation__button fas fa-list-ul",class:{active:t.isListActive()},on:{click:t.toggleListStatus}})])])},Y=[];let X=class extends i["default"]{get client(){return this.$store.getters.getClient}get listStatus(){return this.$store.getters.getListStatus}showCanvasModal(){this.client?this.$modal.show("bug-report-tool"):this.showAuthorizationModal()}showAuthorizationModal(){this.$modal.show("authorization")}isListActive(){return this.listStatus===I.OPEN}toggleListStatus(){const t=this.listStatus===I.OPEN?I.HIDDEN:I.OPEN;this.$store.commit(q.changeListState,t)}};X=N["a"]([Object(F["b"])({})],X);var z=X,V=z,J=(s("c4bb"),s("2451"),s("2877")),G=Object(J["a"])(V,B,Y,!1,null,"c4612052",null),K=G.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bug-report-tool"},[s("loader",{attrs:{loading:t.loading}}),Object.keys(t.schema).length?s("form-builder",{ref:"form",attrs:{schema:t.schema,model:t.model,"form-error":t.formError}}):t._e()],1)},Z=[],tt=s("4309"),et=s.n(tt);const st={options:t=>{return Object.assign({validateAfterLoad:!1,validateAfterChanged:!0},t)},description:(t="description",e={})=>{return Object.assign({type:"textArea",model:t},e)},submit:(t,e={})=>{return Object.assign({type:"submit",buttonText:"Отправить",validateBeforeSubmit:!0,onSubmit:t},e)},button:(t,e,s={})=>{return Object.assign({type:"cbutton",text:t,onClick:e,class:"button__orange"},s)},imageWorker:(t={})=>{return Object.assign({model:"image",type:"image-worker"},t)},email:(t={})=>{return Object.assign({type:"input",inputType:"text",label:"Email",model:"email",placeholder:"Введи email с которого зарегался в worksection",required:!0,validator:tt["validators"].email},t)},taskUrl:(t={})=>{return Object.assign({type:"input",inputType:"text",label:"Ссылка на задачу",model:"url",placeholder:"Скопируй сюда ссылку с worksection",required:!0,validator:tt["validators"].url},t)},name:(t={})=>{return Object.assign({type:"input",inputType:"text",label:"Ім'я",model:"name",placeholder:"Ім'я",required:!0,min:2,max:24,validator:[tt["validators"].string]},t)},dynamicFieldList:(t,e=0,s={})=>{return Object.assign({model:t,type:"dynamic-fields-list",text:"Описание бага",count:e},s)}};var it=s("4a35"),nt=s("60a3");class at{static getErrorsConfig(t,e="Ошибка!"){return{group:"error-message",type:"error",title:e,text:t}}static getSuccessConfig(t,e="Успех!"){return{group:"success-message",type:"success",title:e,text:t}}}let ot=class extends i["default"]{constructor(){super(...arguments),this.formError="",this.count=0,this.loading=!1,this.model={description:"",errors:[]}}get screenHistorySquares(){return this.$store.getters.getScreenHistorySquares}get taskUrl(){return this.$store.getters.getTaskUrl}get client(){return this.$store.getters.getClient}updateSchema(){this.generateSchema()}beforeMount(){this.generateSchema()}generateSchema(){const t=[st.description("description",{label:"Описание ошибки",placeholder:"Описание ошибки"}),st.submit(this.submitForm)];this.screenHistorySquares.length&&t.unshift(st.dynamicFieldList("errors",this.screenHistorySquares.length)),this.schema={groups:[{legend:"Image",styleClasses:"form-custom-group image-worker",fields:[st.imageWorker()]},{legend:"Description",styleClasses:"form-custom-group description",fields:t}],loading:!1},this.$forceUpdate()}submitForm(){const t=document.getElementById("bg-canvas");t&&(this.loading=!0,t.toBlob(async t=>{try{const s=Object(it["detect"])();if(!s||!t||!this.client)return;const i=new File([t],"image.png"),n={description:this.model.description,image:i,taskUrl:this.taskUrl,user:this.client,meta:{href:window.location.href,viewportHeight:window.innerHeight,viewportWidth:window.innerWidth,scrollX:window.scrollX,scrollY:window.scrollY,browser:s.name,browserVersion:s.version,os:s.os,source:window.navigator.userAgent}};if(this.model.errors.length){const t={};this.model.errors.forEach(e=>{t[e.index.toString()]=e}),n.errors=t}const a=new y(n),o=new T;await o.create(a),await this.$store.dispatch(j.loadIssues);const r=this.model.description?`"${this.model.description.trim()}" `:"";this.$notify(at.getSuccessConfig(`Правка ${r}была успешно сохранена!`)),this.$modal.hide("bug-report-tool"),this.loading=!1}catch(e){this.$notify(at.getErrorsConfig(e.message)),this.loading=!1}}))}};N["a"]([Object(nt["a"])("screenHistorySquares")],ot.prototype,"updateSchema",null),ot=N["a"]([Object(F["b"])({})],ot);var rt=ot,ct=rt,lt=(s("97fb"),s("15bb"),Object(J["a"])(ct,Q,Z,!1,null,"1a764acc",null)),ut=lt.exports,dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"authorization"},[t.client?s("div",{staticClass:"authorization__inform"},[s("div",{staticClass:"authorization__intorm-text simple-text"},[t._v("Ты уже авторизовался в системе, "+t._s(t.client.firstName)+".")]),s("div",{staticClass:"authorization__button button button__black",on:{click:t.clearUser}},[t._m(0)])]):s("div",{staticClass:"authorization__form"},[s("loader",{attrs:{loading:t.loading}}),s("div",{staticClass:"authorization__form-text simple-text"},[t._v("Авторизация")]),s("form-builder",{ref:"form",attrs:{schema:t.schema,model:t.model,"form-error":t.formError}})],1)])},ht=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"button_wrap"},[s("a",{staticClass:"button_link",attrs:{href:"javascript:void(0);"}},[s("div",{staticClass:"button_text"},[t._v("Выйти")])])])}];class mt extends x{constructor(t){super(),this.id=t.id,this.email=t.email,this.avatar=t.avatar,this.company=t.company,this.department=t.department,this.firstName=t.firstName,this.lastName=t.lastName,this.name=t.name,this.post=t.post}}class gt extends E{createModel(t){return new mt(t)}}class pt extends C{constructor(){super(...arguments),this.action="user"}createModel(t){return new mt(t)}createCollection(t){const e=new gt;return e.setEntities(t),e}}let ft=class extends i["default"]{constructor(){super(...arguments),this.loading=!1,this.model={email:"",url:""},this.formError="",this.schema={fields:[st.email(),st.taskUrl(),st.submit(this.loginUser,{buttonText:"Авторизоваться"})]}}get client(){return this.$store.getters.getClient}loginUser(){const t=new pt,e=new O({condition:{email:this.model.email}});this.loading=!0,t.findByAttributes(e).then(t=>{if(t.isEmpty())return this.$notify(at.getSuccessConfig(`Пользователь ${this.model.email} не найден!`)),void(this.loading=!1);const e=t.getEntities()[0];this.$store.commit(u.setClient,e),this.$store.commit(u.setTaskUrl,this.model.url),this.loading=!1;const s=`Ты зарегистировался как ${e.firstName}. Добро пожаловать!`;this.$notify(at.getSuccessConfig(s,"Здравствуй!")),this.$modal.hide("authorization")},t=>{this.$notify(at.getErrorsConfig(t.message)),this.loading=!1})}clearUser(){this.$store.dispatch(d.clearClient)}};ft=N["a"]([Object(F["b"])({})],ft);var vt=ft,bt=vt,wt=(s("2368"),s("d7c2"),Object(J["a"])(bt,dt,ht,!1,null,"1dbab8f6",null)),_t=wt.exports,St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive(),expression:"isActive()"}],staticClass:"comments-list"},[t.issues.length?t._l(t.issues,function(t){return s("comment-list-item",{attrs:{issue:t}})}):s("div",{staticClass:"empty-list"},[t._v("Тасок нету! Во славу Арстоцки!")])],2)},Ct=[],xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comments-list-item"},[s("div",{staticClass:"comments-list-item__text"},[s("div",{staticClass:"comments-list-item__id"},[s("span",{staticClass:"id-text"},[t._v("id: "+t._s(t.issue.id))]),s("span",{staticClass:"id-copy",on:{click:t.copyId}},[s("i",{staticClass:"fas fa-copy"})])]),t.showDetail?s("div",{staticClass:"comments-list-item__inform-list"},[s("div",{staticClass:"comments-list-item__info"},[s("span",{staticClass:"text"},[t._v("Описание:")]),s("span",{staticClass:"value"},[t._v(t._s(t.issue.description))])]),s("div",{staticClass:"comments-list-item__info"},[s("span",{staticClass:"text"},[t._v("Размер экрана (WxY):")]),s("span",{staticClass:"value"},[t._v(t._s(t.issue.meta.viewportWidth)+"x"+t._s(t.issue.meta.viewportHeight))])]),s("div",{staticClass:"comments-list-item__info"},[s("span",{staticClass:"text"},[t._v("Позиция по скролу (XxY):")]),s("span",{staticClass:"value"},[t._v(t._s(t.issue.meta.scrollX)+"x"+t._s(t.issue.meta.scrollY))])]),s("div",{staticClass:"comments-list-item__info"},[s("span",{staticClass:"text"},[t._v("Операционная система:")]),s("span",{staticClass:"value"},[t._v(t._s(t.issue.meta.os))])]),s("div",{staticClass:"comments-list-item__info"},[s("span",{staticClass:"text"},[t._v("Версия барузера:")]),s("span",{staticClass:"value"},[t._v(t._s(t.issue.meta.browser)+" "+t._s(t.issue.meta.browserVersion))])])]):s("div",{staticClass:"comments-list-item__description"},[t._v(t._s(t._f("capitalize")(t.issue.description)))])]),s("div",{staticClass:"comments-list-item__interface"},[t.isCurrentPage(t.issue.meta.href)?s("div",{staticClass:"comments-list-item__interface-item",on:{click:t.scrolledTo}},[s("i",{staticClass:"fas fa-arrows-alt"}),s("span",{staticClass:"interface-item-text"},[t._v("Проскролить")])]):s("a",{staticClass:"comments-list-item__interface-item",attrs:{href:t.issue.meta.href}},[s("i",{staticClass:"fas fa-walking"}),s("span",{staticClass:"interface-item-text"},[t._v("Перейти")])]),s("span",{staticClass:"comments-list-item__separator"},[t._v("|")]),s("a",{staticClass:"comments-list-item__interface-item",attrs:{href:t.issue.photo,target:"_blank"}},[s("i",{staticClass:"fas fa-image"}),s("span",{staticClass:"interface-item-text"},[t._v("Изображение")])]),s("span",{staticClass:"comments-list-item__separator"},[t._v("|")]),t.showDetail?s("div",{staticClass:"comments-list-item__interface-item",on:{click:t.toggleDetail}},[s("i",{staticClass:"fas fa-eye-slash"}),s("span",{staticClass:"interface-item-text"},[t._v("Скрыть")])]):s("div",{staticClass:"comments-list-item__interface-item",on:{click:t.toggleDetail}},[s("i",{staticClass:"fas fa-binoculars"}),s("span",{staticClass:"interface-item-text"},[t._v("Подробнее")])])])])},yt=[],Et=s("0016");let Pt=class extends i["default"]{constructor(){super(...arguments),this.showDetail=!1}toggleDetail(){this.showDetail=!this.showDetail}copyId(){const t=this.$props.issue.id;Et["writeText"](t.toString()).then(()=>{this.$notify(at.getSuccessConfig(`Идентификатор ${t} скопирован`))})}scrolledTo(){window.scrollTo({top:this.$props.issue.meta.scrollY,left:this.$props.issue.meta.scrollX,behavior:"smooth"})}isCurrentPage(t){return t===window.location.href}};Pt=N["a"]([Object(F["b"])({props:{issue:y},filters:{capitalize(t){if(!t||t.length<50)return t;let e=t.split("");return e=e.splice(0,100),e.push("..."),e.join("")}}})],Pt);var Tt=Pt,Ot=Tt,$t=(s("63ba"),s("0d25"),Object(J["a"])(Ot,xt,yt,!1,null,"3640e99f",null)),jt=$t.exports;let kt=class extends i["default"]{get issues(){return this.$store.getters.getIssues}get listStatus(){return this.$store.getters.getListStatus}isActive(){return this.listStatus===I.OPEN}beforeMount(){this.$store.dispatch(j.loadIssues)}};kt=N["a"]([Object(F["b"])({components:{"comment-list-item":jt}})],kt);var Lt=kt,qt=Lt,It=(s("ba6b"),s("d215"),Object(J["a"])(qt,St,Ct,!1,null,"39d52dcd",null)),Ht=It.exports;let At=class extends i["default"]{get client(){return this.$store.getters.getClient}showModal(){this.client?this.$modal.show("bug-report-tool"):this.$modal.show("authorization")}cleanStore(){this.$store.dispatch(o.setSrc,"")}beforeMount(){const t=["Q".charCodeAt(0),"W".charCodeAt(0),"E".charCodeAt(0)];let e={};document.onkeydown=s=>{s=s||window.event,Object.assign(e,{[s.keyCode]:!0});for(const i of t)if(!e[i])return;e={},this.showModal()},document.onkeyup=t=>{t=t||window.event,delete e[t.keyCode]}}};At=N["a"]([Object(F["b"])({components:{"application-navigation":K,"bug-report-tool":ut,authorization:_t,"comments-list":Ht}})],At);var Dt=At,Mt=Dt,Ut=(s("2c6f"),s("e5d6"),s("1ee0"),s("f428"),Object(J["a"])(Mt,R,W,!1,null,"36d8e970",null)),Rt=Ut.exports,Wt=s("1881"),Nt=s.n(Wt),Ft=(s("92bd"),s("ee98")),Bt=s.n(Ft);s("c1c3"),s("1e8b");const Yt={fieldIsRequired:"Поле обов'язкове для заповнення",invalidFormat:"Невірний формат данних",fieldIsPasswords:"Значення в полях мають співпадати",numberTooSmall:"Число занадто мале. Мінімум:&nbsp;{0}",numberTooBig:"Число занадто велике. Максимум:&nbsp;{0}",invalidNumber:"Невірне число",invalidInteger:"Поле має містити лише цифри",textTooSmall:"Поле має містити мінімум {1} символи",textTooBig:"Поле має містити не більше ніж {1} символів.Довжина тексту занадто велика",thisNotText:"Це не текст",thisNotArray:"Це не массив",currentDateError:"Зазначена дата некоректна",selectMinItems:"Оберіть щонайменше {0} елементів",selectMaxItems:"Оберіть щонайбільше {0} елементів",invalidDate:"Обрана дата некоректна",dateIsEarly:"Обрана дата некоректна. Обрана:&nbsp;{0}, мінімальна:&nbsp;{1}",dateIsLate:"Обрана дата некоректна. Обрана:&nbsp;{0}, максимальна:&nbsp;{1}",invalidEmail:"Неправильний формат електронної адреси",invalidURL:"Невірно вказана адресса",invalidCard:"Невірно вказаний номер карти",invalidCardNumber:"Невірно вказаний номер карти",invalidTextContainNumber:"Невірно вказаний текст. Текст не може містити числа або спеціальні символи",invalidTextContainSpec:"Невірно вказаний текст. Текст не може містити спеціальні символи",requirePassword:"Паролі не збігаються. Перевір ще раз."};for(const[Ke,Qe]of Object.entries(Yt))et.a.validators.resources[Ke]=Qe;var Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loading?s("div",{staticClass:"loader-wrap"},[s("svg",{staticClass:"loader",attrs:{viewBox:"0 0 100 100",overflow:"visible"}},[s("g",{staticClass:"core"},[s("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"1",fill:"none"}})]),s("g",{staticClass:"spinner"},[s("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])])]):t._e()},zt=[];let Vt=class extends i["default"]{};Vt=N["a"]([Object(F["b"])({props:{loading:Boolean}})],Vt);var Jt=Vt,Gt=Jt,Kt=(s("ae9a"),Object(J["a"])(Gt,Xt,zt,!1,null,"efb68d06",null)),Qt=Kt.exports,Zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"button",class:t.schema.class,attrs:{"xmlns:v-on":"http://www.w3.org/1999/xhtml","xmlns:v-bind":"http://www.w3.org/1999/xhtml"}},[s("div",{staticClass:"button_wrap"},[s("a",{staticClass:"button_link",attrs:{href:"javascript:void(0)"},on:{click:t.schema.onClick}},[s("div",{staticClass:"button_text"},[t._v(t._s(t.schema.text))])])])])},te=[];let ee=class extends i["default"]{};ee=N["a"]([Object(F["b"])({mixins:[tt["abstractField"]]})],ee);var se=ee,ie=se,ne=(s("a79f"),Object(J["a"])(ie,Zt,te,!1,null,"3053b88f",null)),ae=ne.exports,oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-builder",attrs:{"xmlns:v-on":"http://www.w3.org/1999/xhtml"}},[s("div",{staticClass:"form-builder_wrap",on:{click:function(e){t.isTouched=!0}}},[s("vue-form-generator",{ref:"form",attrs:{tag:"div",schema:t.formSchema,model:t.model,options:t.formOptions}}),!t.isTouched&&t.formError?s("label",{staticClass:"form-error",domProps:{innerHTML:t._s(t.formError)}}):t._e()],1),t.button?s("div",{staticClass:"button button_submit",class:t.button.class,attrs:{"xmlns:v-on":"http://www.w3.org/1999/xhtml","xmlns:v-bind":"http://www.w3.org/1999/xhtml"}},[s("loader",{attrs:{loading:t.schema.loading}}),s("div",{staticClass:"button_wrap",on:{click:t.submit}},[s("a",{staticClass:"button_link",attrs:{href:"javascript:void(0);"}},[s("div",{staticClass:"button_text"},[t._v(t._s(t.button.text))])])])],1):t._e(),t._t("default")],2)},re=[];let ce=class extends i["default"]{formErrorChange(){this.$data.isTouched=!1}data(){return{button:null,isTouched:!1}}submit(){this.$refs.form.validate()&&(this.$data.isTouched=!1,this.$data.button.submit())}};N["a"]([Object(nt["a"])("$props.formError")],ce.prototype,"formErrorChange",null),ce=N["a"]([Object(F["b"])({props:{schema:Object,model:Object,formOptions:{type:Object,default:()=>{return st.options()}},formError:{type:String,default:""}},computed:{formSchema(){const t=Object.assign({},this.$props.schema);return t}}})],ce);var le=ce,ue=le,de=(s("45a3"),Object(J["a"])(ue,oe,re,!1,null,null,null)),he=de.exports,me=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"image-worker"},[s("div",{staticClass:"image-worker__navigation"},[s("div",{staticClass:"image-worker__tools"},[s("div",{staticClass:"image-worker__tool"},[s("square-tool")],1),s("div",{staticClass:"image-worker__tool"},[s("point-tool")],1)]),s("div",{staticClass:"image-worker__load-methods"},[s("div",{staticClass:"image-worker__load-method download-field"},[s("input",{staticClass:"download-field__input",attrs:{type:"file",id:"download-field",accept:"image/x-png,image/gif,image/jpeg"},on:{change:t.loadImage}}),s("label",{staticClass:"download-field__label",attrs:{for:"download-field"}},[t._v("Загрузить")])]),s("div",{staticClass:"image-worker__separator"},[t._v("/")]),s("div",{staticClass:"image-worker__load-method",on:{click:t.makeScreen}},[t._v("Сделать скрин")])])]),s("div",{staticClass:"image-worker__canvas"},[s("canvas-module")],1)])},ge=[],pe=s("c0e9"),fe=s.n(pe),ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"canvas-module",attrs:{id:"bg-canvas-wrap"}},[t.screenSrc?t._e():s("div",{staticClass:"canvas-text"},[t._v("\n        Можешь загрузить видео с устройства, сделать снимок с помощью html2canvas или вставить изображение из буфера.\n    ")]),s("canvas",{ref:"canvas",attrs:{id:"bg-canvas"}})])},be=[];let we=class extends i["default"]{constructor(){super(...arguments),this.figureCount=0}get screenWidth(){return this.$store.getters.getScreenWidth}get screenHeight(){return this.$store.getters.getScreenHeight}get screenSrc(){return this.$store.getters.getScreenSrc}get screenPoints(){return this.$store.getters.getScreenPoints}get screenSquares(){return this.$store.getters.getScreenSquares}updateImageSrc(){this.setImageToCanvas()}updateScreenSquares(t){t.length&&(t.forEach((t,e)=>{if(!this.context)return;this.context.beginPath(),this.context.lineWidth=1,this.context.strokeStyle="red",this.context.rect(t.beginX-1,t.beginY-1,t.width+2,t.height+2),this.context.fillStyle="rgba(255, 0, 0, 0.05)",this.context.fillRect(t.beginX,t.beginY,t.width,t.height),this.context.stroke();const s=t.width>0?t.beginX:t.beginX+t.width,i=t.height>0?t.beginY:t.beginY+t.height;this.context.font="18px Arial",this.context.fillStyle="red",this.context.fillText(`${++this.figureCount}.`,s+10,i+20)}),this.$store.dispatch(o.clearSquares))}updateScreenPoints(t){if(this.context){if(this.screenPoints.length<6){const t=this.screenPoints[0];if(!t)return;return this.context.beginPath(),this.context.lineWidth=2,this.context.strokeStyle="red",this.context.arc(t.x,t.y,this.context.lineWidth/2,0,2*Math.PI,!0),this.context.closePath(),void this.context.fill()}this.context.beginPath(),this.context.lineWidth=2,this.context.strokeStyle="red",this.context.moveTo(this.screenPoints[0].x,this.screenPoints[0].y);for(let t=1;t<this.screenPoints.length-2;t++){const e=(this.screenPoints[t].x+this.screenPoints[t+1].x)/2,s=(this.screenPoints[t].y+this.screenPoints[t+1].y)/2,i=this.screenPoints[t].x,n=this.screenPoints[t].y,a=this.screenPoints[t+1].x,o=this.screenPoints[t+1].y;this.context.quadraticCurveTo(i,n,e,s),this.context.quadraticCurveTo(i,n,a,o)}this.context.stroke()}}mounted(){this.setImageToCanvas()}setImageToCanvas(){this.context=this.$refs.canvas.getContext("2d");const t=new Image;t.src=this.screenSrc,t.onload=e=>{const s=this.screenWidth,i=this.screenHeight,n=this.$refs.canvas;n&&this.context&&(n.setAttribute("width",`${s}px`),n.setAttribute("height",`${i}px`),this.context.drawImage(t,0,0,s,i))}}};N["a"]([Object(nt["a"])("screenSrc")],we.prototype,"updateImageSrc",null),N["a"]([Object(nt["a"])("screenSquares")],we.prototype,"updateScreenSquares",null),N["a"]([Object(nt["a"])("screenPoints")],we.prototype,"updateScreenPoints",null),we=N["a"]([Object(F["b"])({})],we);var _e=we,Se=_e,Ce=(s("3686"),s("681c"),Object(J["a"])(Se,ve,be,!1,null,"34728e61",null)),xe=Ce.exports,ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"point-tool",class:{"point-tool__active":t.isActive()},on:{click:t.changeTool}},[s("i",{staticClass:"fas fa-pencil-alt"})])},Ee=[];class Pe{static getAbsoluteCoords(t){const e=t.getBoundingClientRect(),s=document.body,i=document.documentElement,n=window.pageYOffset||i.scrollTop||s.scrollTop,a=window.pageXOffset||i.scrollLeft||s.scrollLeft,o=i.clientTop||s.clientTop||0,r=i.clientLeft||s.clientLeft||0,c=e.top+n-o,l=e.left+a-r;return{top:c,left:l}}}let Te=class extends i["default"]{constructor(){super(...arguments),this.started=!1}get activeTool(){return this.$store.getters.getScreenActiveTool}get screenHeight(){return this.$store.getters.getScreenHeight}get screenWidth(){return this.$store.getters.getScreenWidth}updateListeners(){this.isActive()?this.setListeners():this.removeListeners()}mounted(){const t=document.getElementById("bg-canvas");if(!t)throw Error("Can't find canvas or canvasWrap element");this.canvas=t,this.isActive()&&this.setListeners()}destroy(){this.removeListeners()}setListeners(){this.canvas&&(this.canvas.addEventListener("touchstart",this.touchDown,!1),this.canvas.addEventListener("touchmove",this.touchMove,!1),this.canvas.addEventListener("touchend",this.touchUp,!1),this.canvas.addEventListener("mousedown",this.mouseDown,!1),this.canvas.addEventListener("mousemove",this.mouseMove,!1),this.canvas.addEventListener("mouseup",this.mouseUp,!1))}removeListeners(){this.canvas&&(this.canvas.removeEventListener("touchstart",this.touchDown,!1),this.canvas.removeEventListener("touchmove",this.touchMove,!1),this.canvas.removeEventListener("touchend",this.touchUp,!1),this.canvas.removeEventListener("mousedown",this.mouseDown,!1),this.canvas.removeEventListener("mousemove",this.mouseMove,!1),this.canvas.removeEventListener("mouseup",this.mouseUp,!1))}isActive(){return this.activeTool===r.pencil}changeTool(){this.$store.commit(a.setActiveTool,r.pencil)}touchDown(t){this.$store.dispatch(o.addPoint,this.getTouchPoint(t)).then(()=>{this.started=!0})}touchMove(t){this.started&&this.$store.dispatch(o.addPoint,this.getTouchPoint(t)).then(()=>{this.started=!0})}touchUp(t){this.started&&this.$store.dispatch(o.clearPoints).then(()=>{this.started=!1})}mouseDown(t){this.$store.dispatch(o.addPoint,this.getMousePoint(t)).then(()=>{this.started=!0})}mouseMove(t){this.started&&this.$store.dispatch(o.addPoint,this.getMousePoint(t)).then(()=>{this.started=!0})}mouseUp(t){this.started&&this.$store.dispatch(o.clearPoints).then(()=>{this.started=!1})}getMousePoint(t){if(!this.canvas)return;const e=this.canvas.clientHeight,s=this.canvas.clientWidth,i=s/this.screenWidth,n=e/this.screenHeight;return{x:t.offsetX/i,y:t.offsetY/n}}getTouchPoint(t){if(!this.canvas)return;const e=this.canvas.clientHeight,s=this.canvas.clientWidth,i=s/this.screenWidth,n=e/this.screenHeight,a=Pe.getAbsoluteCoords(this.canvas),o=t.targetTouches[0].clientX-a.left,r=t.targetTouches[0].clientY-a.top;return{x:o/i,y:r/n}}};N["a"]([Object(nt["a"])("activeTool")],Te.prototype,"updateListeners",null),Te=N["a"]([Object(F["b"])({})],Te);var Oe=Te,$e=Oe,je=(s("fdba"),Object(J["a"])($e,ye,Ee,!1,null,"99f9fad2",null)),ke=je.exports,Le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"square-tool",class:{"square-tool__active":t.isActive()},on:{click:t.changeTool}},[s("i",{staticClass:"fas fa-square"})])},qe=[];let Ie=class extends i["default"]{constructor(){super(...arguments),this.beginX=0,this.beginY=0}updateListeners(){this.isActive()?this.setListeners():this.removeListeners()}get activeTool(){return this.$store.getters.getScreenActiveTool}get screenHeight(){return this.$store.getters.getScreenHeight}get screenWidth(){return this.$store.getters.getScreenWidth}mounted(){const t=document.getElementById("bg-canvas");if(!t)throw Error("Can't find canvas or canvasWrap element");this.canvas=t,this.isActive()&&this.setListeners()}destroy(){this.removeListeners()}setListeners(){this.canvas&&(this.canvas.addEventListener("touchstart",this.getBeginTouchCoords,!1),this.canvas.addEventListener("touchend",this.setTouchSquare,!1),this.canvas.addEventListener("mousedown",this.getBeginMouseCoords,!1),this.canvas.addEventListener("mouseup",this.setMouseSquare,!1))}removeListeners(){this.canvas&&(this.canvas.removeEventListener("touchstart",this.getBeginTouchCoords,!1),this.canvas.removeEventListener("touchend",this.setTouchSquare,!1),this.canvas.removeEventListener("mousedown",this.getBeginMouseCoords,!1),this.canvas.removeEventListener("mouseup",this.setMouseSquare,!1))}getBeginMouseCoords(t){this.beginX=t.offsetX,this.beginY=t.offsetY}getBeginTouchCoords(t){if(!this.canvas)return;const e=Pe.getAbsoluteCoords(this.canvas),s=t.targetTouches[0].clientX-e.left,i=t.targetTouches[0].clientY-e.top;this.beginX=s,this.beginY=i}setMouseSquare(t){const e=this.getScaledCoordinates(this.beginX,this.beginY,t.offsetX,t.offsetY);e&&this.setSquare(e)}setTouchSquare(t){if(!this.canvas)return;const e=Pe.getAbsoluteCoords(this.canvas),s=t.changedTouches[0].clientX-e.left,i=t.changedTouches[0].clientY-e.top,n=this.getScaledCoordinates(this.beginX,this.beginY,s,i);n&&this.setSquare(n)}setSquare(t){const e=t.endX-t.beginX,s=t.endY-t.beginY;if(Math.abs(e)<40||Math.abs(s)<40)return this.beginX=0,void(this.beginY=0);this.$store.dispatch(o.addSquare,{beginX:t.beginX,beginY:t.beginY,width:e,height:s}).then(()=>{this.beginX=0,this.beginY=0})}isActive(){return this.activeTool===r.square}changeTool(){this.$store.commit(a.setActiveTool,r.square)}getScaledCoordinates(t,e,s,i){if(!this.canvas)throw Error("Канвас не найден");const n=this.canvas.clientHeight,a=this.canvas.clientWidth,o=a/this.screenWidth,r=n/this.screenHeight;return{beginX:t/o,beginY:e/r,endX:s/o,endY:i/r}}};N["a"]([Object(nt["a"])("activeTool")],Ie.prototype,"updateListeners",null),Ie=N["a"]([Object(F["b"])({})],Ie);var He=Ie,Ae=He,De=(s("98c9"),Object(J["a"])(Ae,Le,qe,!1,null,"d7d874e4",null)),Me=De.exports;let Ue=class extends i["default"]{mounted(){document.addEventListener("paste",this.getImageFromClipboard)}destroy(){document.removeEventListener("paste",this.getImageFromClipboard)}getImageFromClipboard(t){if(!t||!t.clipboardData)return;const e=t.clipboardData.items;for(const s of e)if("file"===s.kind){const t=s.getAsFile();this.loadImageFromReader(t)}}makeScreen(){const t=document.querySelector("body");t&&(this.$modal.hide("bug-report-tool"),setTimeout(()=>{const e={x:window.scrollX,y:window.scrollY,width:window.innerWidth,height:window.innerHeight};fe()(t,e).then(t=>{this.$store.commit(a.setWidth,t.width),this.$store.commit(a.setHeight,t.height),t.toBlob(t=>{const e=window.URL||window.webkitURL;this.$store.dispatch(o.setSrc,e.createObjectURL(t)),this.$modal.show("bug-report-tool")})})},1e3))}loadImageFromReader(t){const e=new FileReader;e.readAsDataURL(t),e.onload=e=>fetch(e.target.result).then(t=>t.blob()).then(e=>{const s=window.URL||window.webkitURL,i=s.createObjectURL(e),n=window.URL||window.webkitURL,r=new Image;r.onload=t=>{const e=t.target.width,s=t.target.height;this.$store.commit(a.setWidth,e),this.$store.commit(a.setHeight,s),this.$store.dispatch(o.setSrc,i).then()},r.src=n.createObjectURL(t)})}loadImage(t){const e=t.target.files[0];e&&this.loadImageFromReader(e)}};Ue=N["a"]([Object(F["b"])({mixins:[tt["abstractField"]],components:{"canvas-module":xe,"point-tool":ke,"square-tool":Me}})],Ue);var Re=Ue,We=Re,Ne=(s("7194"),s("4b54"),s("52be"),s("1e69"),Object(J["a"])(We,me,ge,!1,null,"3d16c640",null)),Fe=Ne.exports,Be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.fields.length?s("div",{staticClass:"dynamic-fields-list"},t._l(t.fields,function(e){return s("div",{key:"field.index",staticClass:"dynamic-fields-list__field"},[s("label",[t._v(t._s(e.label))]),s("input",{attrs:{type:"text",placeholder:e.label},on:{input:function(s){t.changeValue(s.target.value,e.index)}}})])}),0):t._e()},Ye=[];let Xe=class extends i["default"]{constructor(){super(...arguments),this.fields=[]}countUpdateS(){this.getFields()}changeValue(t,e){const s={value:t,index:e},i=Object.assign([],this.value),n=i.findIndex(t=>t.index===e);-1!==n&&i.splice(n,1),i.push(s),this.value=i,this.$props.model[this.$props.schema.model]=i}mounted(){this.getFields()}getFields(){const t=[];for(let e=0;e<this.$props.schema.count;e++)t.push({index:e,label:`${this.$props.schema.text} №${e+1}`});this.fields=t}};N["a"]([Object(nt["a"])("schema")],Xe.prototype,"countUpdateS",null),Xe=N["a"]([Object(F["b"])({mixins:[tt["abstractField"]]})],Xe);var ze=Xe,Ve=ze,Je=(s("8dee"),Object(J["a"])(Ve,Be,Ye,!1,null,"4119f8ed",null)),Ge=Je.exports;i["default"].use(Nt.a),i["default"].use(Bt.a),i["default"].use(et.a),i["default"].component("loader",Qt),i["default"].component("fieldCbutton",ae),i["default"].component("form-builder",he),i["default"].component("fieldImageWorker",Fe),i["default"].component("fieldDynamicFieldsList",Ge),i["default"].config.productionTip=!1,new i["default"]({store:U,render:t=>t(Rt)}).$mount("#app")},cd8d:function(t,e,s){},d215:function(t,e,s){"use strict";var i=s("5b5d"),n=s.n(i);n.a},d7c2:function(t,e,s){"use strict";var i=s("1a5d"),n=s.n(i);n.a},d8fd:function(t,e,s){},dc3e:function(t,e,s){},e5d6:function(t,e,s){"use strict";var i=s("a1e4"),n=s.n(i);n.a},f428:function(t,e,s){"use strict";var i=s("dc3e"),n=s.n(i);n.a},f769:function(t,e,s){},fdba:function(t,e,s){"use strict";var i=s("42c7"),n=s.n(i);n.a},fe6a:function(t,e,s){}});
//# sourceMappingURL=app.js.map